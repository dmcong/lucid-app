(globalThis.webpackChunklucid=globalThis.webpackChunklucid||[]).push([[85],{13380:(t,e,r)=>{"use strict";const{base58btc:n}=r(43019),{base32:s}=r(79357),i=r(17578),{Multiaddr:o}=r(10006),a=r(44021),{CID:c}=r(32743),{URL:l}=r(41094),{toString:u}=r(93314),h=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,d=/^\/(ip[fn]s)\/([^/?#]+)/,f=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,y=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function p(t){try{return"string"===typeof t?Boolean(c.parse(t)):t instanceof Uint8Array?Boolean(c.decode(t)):Boolean(c.asCID(t))}catch(e){return!1}}function m(t){if(!t)return!1;if(o.isMultiaddr(t))return!0;try{return new o(t),!0}catch(e){return!1}}function g(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const s=b(t);if(!s)return!1;const i=s.match(e);if(!i)return!1;if("ipfs"!==i[r])return!1;let o=i[n];return o&&e===f&&(o=o.toLowerCase()),p(o)}function w(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const s=b(t);if(!s)return!1;const i=s.match(e);if(!i)return!1;if("ipns"!==i[r])return!1;let o=i[n];if(o&&e===f){if(o=o.toLowerCase(),p(o))return!0;try{!o.includes(".")&&o.includes("-")&&(o=o.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));const{hostname:t}=new l(`http://${o}`);return y.test(t)}catch(a){return!1}}return!0}function v(t){return"string"===typeof t}function b(t){return t instanceof Uint8Array?u(t,"base58btc"):!!v(t)&&t}const E=t=>g(t,f,2,1),S=t=>w(t,f,2,1),_=t=>E(t)||S(t),x=t=>g(t,h)||E(t),A=t=>w(t,h)||S(t),k=t=>x(t)||A(t)||_(t),D=t=>g(t,d)||w(t,d);t.exports={multihash:function(t){const e=b(t);try{i.decode(n.decode("z"+e))}catch{return!1}return!0},multiaddr:m,peerMultiaddr:function(t){return m(t)&&a.P2P.matches(t)},cid:p,base32cid:t=>function(t){try{s.decode(t)}catch{return!1}return!0}(t)&&p(t),ipfsSubdomain:E,ipnsSubdomain:S,subdomain:_,subdomainGatewayPattern:f,ipfsUrl:x,ipnsUrl:A,url:k,pathGatewayPattern:h,ipfsPath:t=>g(t,d),ipnsPath:t=>w(t,d),path:D,pathPattern:d,urlOrPath:t=>k(t)||D(t),cidPath:t=>v(t)&&!p(t)&&g(`/ipfs/${t}`,d)}},93663:t=>{"use strict";t.exports=async function*(t,e){for await(const r of t)await e(r)&&(yield r)}},60191:t=>{"use strict";t.exports=async function*(t,e){for await(const r of t)yield e(r)}},92393:(t,e,r)=>{"use strict";const n=r(31730);t.exports=async function*(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const s=n();setTimeout((async()=>{try{await Promise.all(e.map((async t=>{for await(const e of t)s.push(e)}))),s.end()}catch(t){s.end(t)}}),0),yield*s}},89962:t=>{const e=function(){let t;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(;r.length;)t=r.shift()(t);return t},r=t=>t&&("function"===typeof t[Symbol.asyncIterator]||"function"===typeof t[Symbol.iterator]||"function"===typeof t.next),n=t=>t&&"function"===typeof t.sink&&r(t.source),s=t=>e=>(t.sink(e),t.source),i=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(n(i[0])){const t=i[0];i[0]=()=>t.source}else if(r(i[0])){const t=i[0];i[0]=()=>t}if(i.length>1&&n(i[i.length-1])&&(i[i.length-1]=i[i.length-1].sink),i.length>2)for(let e=1;e<i.length-1;e++)n(i[e])&&(i[e]=s(i[e]));return e(...i)};t.exports=i,t.exports.pipe=i,t.exports.rawPipe=e,t.exports.isIterable=r,t.exports.isDuplex=n},62550:t=>{"use strict";t.exports=async function*(t,e){let r=0;if(!(e<1))for await(const n of t)if(yield n,r++,r===e)return}},63573:(t,e,r)=>{"use strict";const n=r(87141),s=r(95700),i=r(15504),o={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};t.exports=function(t,e,r,a,c){const l=o[c];if(!l){const t=Object.keys(o).join(" / ");throw i(new Error(`Hash '${c}' is unknown or not supported. Must be ${t}`),"ERR_UNSUPPORTED_HASH_TYPE")}const u=n(t,e,r,a,l);return s.encode64(u)}},76796:(t,e,r)=>{"use strict";const n=r(62731),s=r(15504);t.exports=function(t){if(isNaN(t)||t<=0)throw s(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return n(t)}},8954:(t,e,r)=>{"use strict";r.d(e,{e:()=>a});var n=r(79239),s=r(20838),i=r(93663),o=r(62550);class a{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(t,e,r){return Promise.reject(new Error(".put is not implemented"))}get(t,e){return Promise.reject(new Error(".get is not implemented"))}has(t,e){return Promise.reject(new Error(".has is not implemented"))}delete(t,e){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{key:r,value:n}of t)await this.put(r,n,e),yield{key:r,value:n}}async*getMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of t)yield this.get(r,e)}async*deleteMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of t)await this.delete(r,e),yield r}batch(){let t=[],e=[];return{put(e,r){t.push({key:e,value:r})},delete(t){e.push(t)},commit:async r=>{await s(this.putMany(t,r)),t=[],await s(this.deleteMany(e,r)),e=[]}}}async*_all(t,e){throw new Error("._all is not implemented")}async*_allKeys(t,e){throw new Error("._allKeys is not implemented")}query(t,e){let r=this._all(t,e);if(null!=t.prefix&&(r=i(r,(e=>e.key.toString().startsWith(t.prefix)))),Array.isArray(t.filters)&&(r=t.filters.reduce(((t,e)=>i(t,e)),r)),Array.isArray(t.orders)&&(r=t.orders.reduce(((t,e)=>(0,n.W)(t,e)),r)),null!=t.offset){let e=0;r=i(r,(()=>e++>=t.offset))}return null!=t.limit&&(r=o(r,t.limit)),r}queryKeys(t,e){let r=this._allKeys(t,e);if(null!=t.prefix&&(r=i(r,(e=>e.toString().startsWith(t.prefix)))),Array.isArray(t.filters)&&(r=t.filters.reduce(((t,e)=>i(t,e)),r)),Array.isArray(t.orders)&&(r=t.orders.reduce(((t,e)=>(0,n.W)(t,e)),r)),null!=t.offset){let e=0;r=i(r,(()=>e++>=t.offset))}return null!=t.limit&&(r=o(r,t.limit)),r}}},66957:(t,e,r)=>{"use strict";r.r(e),r.d(e,{abortedError:()=>c,dbDeleteFailedError:()=>i,dbOpenFailedError:()=>s,dbWriteFailedError:()=>o,notFoundError:()=>a});var n=r(15504);function s(t){return t=t||new Error("Cannot open database"),n(t,"ERR_DB_OPEN_FAILED")}function i(t){return t=t||new Error("Delete failed"),n(t,"ERR_DB_DELETE_FAILED")}function o(t){return t=t||new Error("Write failed"),n(t,"ERR_DB_WRITE_FAILED")}function a(t){return t=t||new Error("Not Found"),n(t,"ERR_NOT_FOUND")}function c(t){return t=t||new Error("Aborted"),n(t,"ERR_ABORTED")}},13252:(t,e,r)=>{"use strict";r.d(e,{v:()=>o});var n=r(8954),s=r(60191),i=r(89962);class o extends n.e{constructor(t,e){super(),this.child=t,this.transform=e}open(){return this.child.open()}put(t,e,r){return this.child.put(this.transform.convert(t),e,r)}get(t,e){return this.child.get(this.transform.convert(t),e)}has(t,e){return this.child.has(this.transform.convert(t),e)}delete(t,e){return this.child.delete(this.transform.convert(t),e)}async*putMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.transform,n=this.child;yield*(0,i.pipe)(t,(async function*(t){yield*s(t,(t=>{let{key:e,value:n}=t;return{key:r.convert(e),value:n}}))}),(async function*(t){yield*n.putMany(t,e)}),(async function*(t){yield*s(t,(t=>{let{key:e,value:n}=t;return{key:r.invert(e),value:n}}))}))}async*getMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.transform,n=this.child;yield*(0,i.pipe)(t,(async function*(t){yield*s(t,(t=>r.convert(t)))}),(async function*(t){yield*n.getMany(t,e)}))}async*deleteMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.transform,n=this.child;yield*(0,i.pipe)(t,(async function*(t){yield*s(t,(t=>r.convert(t)))}),(async function*(t){yield*n.deleteMany(t,e)}),(async function*(t){yield*s(t,(t=>r.invert(t)))}))}batch(){const t=this.child.batch();return{put:(e,r)=>{t.put(this.transform.convert(e),r)},delete:e=>{t.delete(this.transform.convert(e))},commit:e=>t.commit(e)}}query(t,e){const r={...t};r.filters=(r.filters||[]).map((t=>e=>{let{key:r,value:n}=e;return t({key:this.transform.convert(r),value:n})}));const{prefix:n}=t;return null!=n&&"/"!==n&&(delete r.prefix,r.filters.push((t=>{let{key:e}=t;return this.transform.invert(e).toString().startsWith(n)}))),r.orders&&(r.orders=r.orders.map((t=>(e,r)=>t({key:this.transform.invert(e.key),value:e.value},{key:this.transform.invert(r.key),value:r.value})))),s(this.child.query(r,e),(t=>{let{key:e,value:r}=t;return{key:this.transform.invert(e),value:r}}))}queryKeys(t,e){const r={...t};r.filters=(r.filters||[]).map((t=>e=>t(this.transform.convert(e))));const{prefix:n}=t;return null!=n&&"/"!==n&&(delete r.prefix,r.filters.push((t=>this.transform.invert(t).toString().startsWith(n)))),r.orders&&(r.orders=r.orders.map((t=>(e,r)=>t(this.transform.invert(e),this.transform.invert(r))))),s(this.child.queryKeys(r,e),(t=>this.transform.invert(t)))}close(){return this.child.close()}}},51854:(t,e,r)=>{"use strict";r.r(e),r.d(e,{MemoryDatastore:()=>o});var n=r(8954),s=r(82149),i=r(66957);class o extends n.e{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(t,e){this.data[t.toString()]=e}async get(t){if(!await this.has(t))throw i.notFoundError();return this.data[t.toString()]}async has(t){return void 0!==this.data[t.toString()]}async delete(t){delete this.data[t.toString()]}async*_all(){yield*Object.entries(this.data).map((t=>{let[e,r]=t;return{key:new s.Key(e),value:r}}))}async*_allKeys(){yield*Object.entries(this.data).map((t=>{let[e]=t;return new s.Key(e)}))}}},11524:(t,e,r)=>{"use strict";r.d(e,{L:()=>l});var n=r(93663),s=r(62550),i=r(92393),o=r(8954),a=r(66957),c=r(79239);class l extends o.e{constructor(t){super(),this.mounts=t.slice()}async open(){await Promise.all(this.mounts.map((t=>t.datastore.open())))}_lookup(t){for(const e of this.mounts)if(e.prefix.toString()===t.toString()||e.prefix.isAncestorOf(t))return{datastore:e.datastore,mountpoint:e.prefix}}put(t,e,r){const n=this._lookup(t);if(null==n)throw a.dbWriteFailedError(new Error("No datastore mounted for this key"));return n.datastore.put(t,e,r)}get(t,e){const r=this._lookup(t);if(null==r)throw a.notFoundError(new Error("No datastore mounted for this key"));return r.datastore.get(t,e)}has(t,e){const r=this._lookup(t);return null==r?Promise.resolve(!1):r.datastore.has(t,e)}delete(t,e){const r=this._lookup(t);if(null==r)throw a.dbDeleteFailedError(new Error("No datastore mounted for this key"));return r.datastore.delete(t,e)}async close(){await Promise.all(this.mounts.map((t=>t.datastore.close())))}batch(){const t={},e=e=>{const r=this._lookup(e);if(null==r)throw new Error("No datastore mounted for this key");const n=r.mountpoint.toString();return null==t[n]&&(t[n]=r.datastore.batch()),{batch:t[n]}};return{put:(t,r)=>{e(t).batch.put(t,r)},delete:t=>{e(t).batch.delete(t)},commit:async e=>{await Promise.all(Object.keys(t).map((r=>t[r].commit(e))))}}}query(t,e){const r=this.mounts.map((r=>r.datastore.query({prefix:t.prefix,filters:t.filters},e)));let o=i(...r);if(t.filters&&t.filters.forEach((t=>{o=n(o,t)})),t.orders&&t.orders.forEach((t=>{o=(0,c.W)(o,t)})),null!=t.offset){let e=0;o=n(o,(()=>e++>=t.offset))}return null!=t.limit&&(o=s(o,t.limit)),o}queryKeys(t,e){const r=this.mounts.map((r=>r.datastore.queryKeys({prefix:t.prefix,filters:t.filters},e)));let o=i(...r);if(t.filters&&t.filters.forEach((t=>{o=n(o,t)})),t.orders&&t.orders.forEach((t=>{o=(0,c.W)(o,t)})),null!=t.offset){let e=0;o=n(o,(()=>e++>=t.offset))}return null!=t.limit&&(o=s(o,t.limit)),o}}},69611:(t,e,r)=>{"use strict";r.d(e,{v:()=>i});var n=r(22984),s=r(13252);class i extends s.v{constructor(t,e){super(t,{convert:t=>e.child(t),invert(t){if("/"===e.toString())return t;if(!e.isAncestorOf(t))throw new Error(`Expected prefix: (${e.toString()}) in key: ${t.toString()}`);return new n.s(t.toString().slice(e.toString().length),!1)}})}}},57712:(t,e,r)=>{"use strict";r.r(e),r.d(e,{NextToLast:()=>h,PREFIX:()=>i,Prefix:()=>l,README_FN:()=>a,SHARDING_FN:()=>o,ShardBase:()=>c,Suffix:()=>u,parseShardFun:()=>d,readShardFun:()=>f,readme:()=>s.Z});var n=r(82149),s=r(52352);const i="/repo/flatfs/shard/",o="SHARDING",a="_README";class c{constructor(t){this.param=t,this.name="base",this._padding=""}fun(t){return"implement me"}toString(){return`${i}v1/${this.name}/${this.param}`}}class l extends c{constructor(t){super(t),this._padding="".padStart(t,"_"),this.name="prefix"}fun(t){return(t+this._padding).slice(0,this.param)}}class u extends c{constructor(t){super(t),this._padding="".padStart(t,"_"),this.name="suffix"}fun(t){const e=this._padding+t;return e.slice(e.length-this.param)}}class h extends c{constructor(t){super(t),this._padding="".padStart(t+1,"_"),this.name="next-to-last"}fun(t){const e=this._padding+t,r=e.length-this.param-1;return e.slice(r,r+this.param)}}function d(t){if(0===(t=t.trim()).length)throw new Error("empty shard string");if(!t.startsWith(i))throw new Error(`invalid or no path prefix: ${t}`);const e=t.slice(i.length).split("/"),r=e[0];if("v1"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=e[1];if(!e[2])throw new Error("missing param");const s=parseInt(e[2],10);switch(n){case"prefix":return new l(s);case"suffix":return new u(s);case"next-to-last":return new h(s);default:throw new Error(`unkown sharding function: ${n}`)}}const f=async(t,e)=>{const r=new n.Key(t).child(new n.Key(o)),s="function"===typeof e.getRaw?e.getRaw.bind(e):e.get.bind(e),i=await s(r);return d((new TextDecoder).decode(i||"").trim())}},64661:(t,e,r)=>{"use strict";r.d(e,{G:()=>u});var n=r(22984),s=r(57712),i=r(8954),o=r(13252),a=r(66957);const c=new n.s(s.SHARDING_FN),l=new n.s(s.README_FN);class u extends i.e{constructor(t,e){super(),this.child=new o.v(t,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=e}async open(){await this.child.open(),this.shard=await u.create(this.child,this.shard)}_convertKey(t){const e=t.toString();if(e===c.toString()||e===l.toString())return t;return new n.s(this.shard.fun(e)).child(t)}_invertKey(t){const e=t.toString();return e===c.toString()||e===l.toString()?t:n.s.withNamespaces(t.list().slice(1))}static async createOrOpen(t,e){try{await u.create(t,e)}catch(r){if(r&&"datastore exists"!==r.message)throw r}return u.open(t)}static async open(t){const e=await(0,s.readShardFun)("/",t);return new u(t,e)}static async create(t,e){const r=await t.has(c);if(!r&&!e)throw a.dbOpenFailedError(Error("Shard is required when datastore doesn't have a shard key already."));if(!r){const r="function"===typeof t.putRaw?t.putRaw.bind(t):t.put.bind(t);return await Promise.all([r(c,(new TextEncoder).encode(e.toString()+"\n")),r(l,(new TextEncoder).encode(s.readme))]),e}const n=await(0,s.readShardFun)("/",t),i=(n||"").toString(),o=e.toString();if(i!==o)throw new Error(`specified fun ${o} does not match repo shard fun ${i}`);return n}put(t,e,r){return this.child.put(t,e,r)}get(t,e){return this.child.get(t,e)}has(t,e){return this.child.has(t,e)}delete(t,e){return this.child.delete(t,e)}async*putMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.putMany(t,e)}async*getMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.getMany(t,e)}async*deleteMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.deleteMany(t,e)}batch(){return this.child.batch()}query(t,e){const r={...t,filters:[t=>{let{key:e}=t;return e.toString()!==c.toString()},t=>{let{key:e}=t;return e.toString()!==l.toString()}].concat(t.filters||[])};return this.child.query(r,e)}queryKeys(t,e){const r={...t,filters:[t=>t.toString()!==c.toString(),t=>t.toString()!==l.toString()].concat(t.filters||[])};return this.child.queryKeys(r,e)}close(){return this.child.close()}}},97823:(t,e,r)=>{"use strict";r.d(e,{z:()=>l});var n=r(8954),s=r(66957),i=r(60720),o=r(31730),a=r(20838);const c=i("datastore:core:tiered");class l extends n.e{constructor(t){super(),this.stores=t.slice()}async open(){try{await Promise.all(this.stores.map((t=>t.open())))}catch(t){throw s.dbOpenFailedError()}}async put(t,e){try{await Promise.all(this.stores.map((r=>r.put(t,e))))}catch(r){throw s.dbWriteFailedError()}}async get(t,e){for(const n of this.stores)try{const r=await n.get(t,e);if(r)return r}catch(r){c(r)}throw s.notFoundError()}async has(t,e){for(const r of this.stores)if(await r.has(t,e))return!0;return!1}async delete(t,e){try{await Promise.all(this.stores.map((r=>r.delete(t,e))))}catch(r){throw s.dbDeleteFailedError()}}async*putMany(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.stores.map((t=>{const n=o();return a(t.putMany(n,r)).catch((t=>{e=t})),n}));try{for await(const r of t){if(e)throw e;n.forEach((t=>t.push(r))),yield r}}finally{n.forEach((t=>t.end()))}}async*deleteMany(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.stores.map((t=>{const n=o();return a(t.deleteMany(n,r)).catch((t=>{e=t})),n}));try{for await(const r of t){if(e)throw e;n.forEach((t=>t.push(r))),yield r}}finally{n.forEach((t=>t.end()))}}async close(){await Promise.all(this.stores.map((t=>t.close())))}batch(){const t=this.stores.map((t=>t.batch()));return{put:(e,r)=>{t.forEach((t=>t.put(e,r)))},delete:e=>{t.forEach((t=>t.delete(e)))},commit:async e=>{for(const r of t)await r.commit(e)}}}query(t,e){return this.stores[this.stores.length-1].query(t,e)}queryKeys(t,e){return this.stores[this.stores.length-1].queryKeys(t,e)}}},79239:(t,e,r)=>{"use strict";r.d(e,{W:()=>s});var n=r(21958);const s=(t,e)=>async function*(){const r=await n(t);yield*r.sort(e)}()},22984:(t,e,r)=>{"use strict";r.d(e,{s:()=>n.Key});var n=r(82149)},82149:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Key:()=>l});var n=r(99222),s=r(93314),i=r(68425);const o="/",a=(new TextEncoder).encode(o),c=a[0];class l{constructor(t,e){if("string"===typeof t)this._buf=(0,i.fromString)(t);else{if(!(t instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=t}if(null==e&&(e=!0),e&&this.clean(),0===this._buf.byteLength||this._buf[0]!==c)throw new Error("Invalid key")}toString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";return(0,s.toString)(this._buf,t)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(t){return new l(t.join(o))}static random(){return new l((0,n.nanoid)().replace(/-/g,""))}static asKey(t){return t instanceof Uint8Array||"string"===typeof t?new l(t):t.uint8Array?new l(t.uint8Array()):null}clean(){if(this._buf&&0!==this._buf.byteLength||(this._buf=a),this._buf[0]!==c){const t=new Uint8Array(this._buf.byteLength+1);t.fill(c,0,1),t.set(this._buf,1),this._buf=t}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===c;)this._buf=this._buf.subarray(0,-1)}less(t){const e=this.list(),r=t.list();for(let n=0;n<e.length;n++){if(r.length<n+1)return!1;const t=e[n],s=r[n];if(t<s)return!0;if(t>s)return!1}return e.length<r.length}reverse(){return l.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(o).slice(1)}type(){return function(t){const e=t.split(":");if(e.length<2)return"";return e.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(t){const e=t.split(":");return e[e.length-1]}(this.baseNamespace())}instance(t){return new l(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(o)||(t+=o),t+=this.type(),new l(t)}parent(){const t=this.list();return 1===t.length?new l(o):new l(t.slice(0,-1).join(o))}child(t){return this.toString()===o?t:t.toString()===o?this:new l(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()!==this.toString()&&t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()!==this.toString()&&this.toString().startsWith(t.toString())}isTopLevel(){return 1===this.list().length}concat(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.withNamespaces([...this.namespaces(),...(n=e.map((t=>t.namespaces())),[].concat(...n))]);var n}}},81564:(t,e,r)=>{"use strict";r.d(e,{b:()=>o});var n=r(80935),s=r(43019);const i=n.m.Entry;class o{constructor(t,e,r,n,s){this.entry=new i(t,e,r),this.cancel=Boolean(n),this.sendDontHave=Boolean(s)}get cid(){return this.entry.cid}set cid(t){this.entry.cid=t}get priority(){return this.entry.priority}set priority(t){this.entry.priority=t}get wantType(){return this.entry.wantType}set wantType(t){this.entry.wantType=t}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toString(s.base58btc)} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(t){return this.cancel===t.cancel&&this.sendDontHave===t.sendDontHave&&this.wantType===t.wantType&&this.entry.equals(t.entry)}}},7901:(t,e,r)=>{"use strict";r.d(e,{B:()=>o});var n=r(32743),s=r(15504);const i="/ipfs/";function o(t){if(t instanceof Uint8Array)try{t=n.CID.decode(t)}catch(a){throw s(a,"ERR_INVALID_CID")}let e=n.CID.asCID(t);if(e)return{cid:e,path:void 0};(t=t.toString()).startsWith(i)&&(t=t.substring(i.length));const r=t.split("/");let o;try{e=n.CID.parse(r.shift()||"")}catch(a){throw s(a,"ERR_INVALID_CID")}return r.length&&(o=`/${r.join("/")}`),{cid:e,path:o}}},17893:(t,e,r)=>{"use strict";r.r(e),r.d(e,{coerce:()=>a,empty:()=>n,equals:()=>o,fromHex:()=>i,fromString:()=>l,isBinary:()=>c,toHex:()=>s,toString:()=>u});const n=new Uint8Array(0),s=t=>t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),""),i=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map((t=>parseInt(t,16)))):n},o=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},a=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},c=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),l=t=>(new TextEncoder).encode(t),u=t=>(new TextDecoder).decode(t)}}]);
//# sourceMappingURL=85.882a5416.chunk.js.map